function stimulus = combineMonocularImages (display, leftImg, rightImg, ...											blankWidthPix, blankColor)% % AUTHOR:  Press% DATE:    04.24.98% UPDATED: 09.04.98 - BTB and WAP% PURPOSE:%   Take two monocular images and place them at their respective% locations, as indicated by the params struct.  The center of% the image should corespond to fixation.%   The present version of this routine assumes the two stimuli% have the same vertical sizes and positions.  It also assumes the% stimuli fall to either side of the center of the display.% Find the separation between the two stimuli by taking the% difference between their inside borders (the inside border of% the left stim is the position of its right edge; the inside% border of the right stim is the position of its left edge)if ~exist('blankColor')	blankColor = getReservedColor(display,'background');endleftSize = size(leftImg,2);rightSize = size(rightImg,2);height = size(leftImg,1);	% Assumes left and right height the sameif ~exist('blankWidthPix')		displayWidth = str2num(strtok(display.resolution,'x'));	leftPos = displayWidth/4;	rightPos = 3*displayWidth/4;	blankWidthPix = round ((rightPos-rightSize/2)-(leftPos+leftSize/2));	endif blankWidthPix<0	% keyboard	disp('Your stimulus size is too big.');	maxSize = 2*pix2angle(display,leftPos);	disp(['Maximum stimulus size is ' num2str(maxSize) ' degrees wide.']);	error('Quitting.');end	blankFiller = zeros (height, blankWidthPix) + blankColor;% Combine the stimuli together stimulus = zeros(height, leftSize+blankWidthPix+rightSize, size(leftImg,3));for frameNum = 1:size(leftImg,3)	stimulus(:,:,frameNum) = ...		[leftImg(:,:,frameNum) blankFiller rightImg(:,:,frameNum)];end