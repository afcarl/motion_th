%ShowTrialDemorunPriority = 7;%Generate a grating stimulusclear trial%Generate display structure%monitor = 'SanyoLCD';monitor = 'NecLcd2000';  %doesn't work.%monitor = 'Multiscan720';%position = 'outside bore';position = 'room 452';card = 'Radius10-bit';%card = 'BuiltIn8-bit';%resolution = '640x480, 67Hz';resolution = '832x624, 75Hz';%resolution = '1280x1024, 74Hz';display = initDisplayStruct(monitor,card,resolution,position);display.screenNumber=0;%Grating stimulus parameters.params=makeDemoGratingParams;%Create the trial structure%first stimulus has higher contrast (0.5)params.contrast = 0.5;trial.stimulus(1) = makeFlickerGrating(display,params);%second stimulus has lower contrast (0.3)params.contrast = 0.3;trial.stimulus(2) = makeFlickerGrating(display,params);trial.ISI = 0.25;trial.responseInterval = NaN;% create background images/cmaps for ISI (nonstimulus periods)c=getReservedColor(display,'background');imgSize = size(trial.stimulus(1).image(:,:,1));img=insertFixation(display,c*ones(imgSize));trial.ISIstimulus=createStimulusStruct(img,greyCmap(display),[-1,1]);% or .... to do nothing you could do this%trial.ISIstimulus=createStimulusStruct([],[],[0]);% if ISIstimulus is not created then the default is a grey% background with the usual fixation spot.%Open the screendisplay = openScreen(display);%Store the images off screentrial.stimulus(1)=createImagePointers(display,trial.stimulus(1));trial.stimulus(2)=createImagePointers(display,trial.stimulus(2));trial.ISIstimulus=createImagePointers(display,trial.ISIstimulus);clickMouse2Begin(display,'showTrial Demo');%show the stimulusresponse =showTrial(display,trial,runPriority)% Close the one on-screen and many off-screen windowsSCREEN('CloseAll');