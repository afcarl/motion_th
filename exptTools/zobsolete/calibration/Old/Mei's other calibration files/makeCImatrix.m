% Measurements are in every 2nms. Interpolate to get data for% every nm of the wavelength.indexList = pointsOnLine(390, 730, 171);red = [indexList monitorSpectra(:,1)];green = [indexList monitorSpectra(:,2)];blue = [indexList monitorSpectra(:,3)];indexList = (390:730)';red = tableLookUp(indexList, red, 1);green = tableLookUp(indexList, green, 1);blue = tableLookUp(indexList, blue, 1);% Spectrometer only gives measurements from 390nm--730nm% ConeSpectra has data from 370nm--730nm% So cut the beginning of cone spectra if needed:%coneSpectra(1:20,:)=[];red(:,1)=[];green(:,1)=[];blue(:,1)=[];% normalize so that blue gun peaks at 1red = red/max(blue);green = green/max(blue);blue = blue/max(blue);% CImatrix = (coneSpectra)' * monitorSpectramonitorSpectra = [red green blue];CImatrix = (coneSpectra)' * monitorSpectra;