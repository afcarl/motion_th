function [key,StartTime] = waitTill(ReturnTime,StartTime)%key,StartTime] = WaitTill(ReturnTime,[StartTime])%%Waits and listens to keyboard presses.%%Inputs:%%  time:       WaitTill waits 'time' seconds after StartTime before%              returning.%%  StartTime:  Number of seconds since the system started up.%              If not given, WaitTill gets a new StartTime.%%Outputs:%  %  key         last key pressed during waiting period.%%Example:%%StartTime = getSecs;%ReturnTime = 5; %seconds%key = WaitTill(ReturnTime,StartTime);%disp(['key ',key,' was the last key pressed during the ',num2str(ReturnTime),' second interval.']);%%SEE ALSO:  getSecs%5/31/97 gmb Wrote it.%1/10/98 gmb Revised it for verstion 5if nargin < 1	disp('*** Error:  WaitTill needs at least one argument.');	returnendif nargin == 1	StartTime = getSecs;endkey = '';if ReturnTime < getSecs-StartTime	if CharAvail		key = GetChar;	end	disp(['Warning!  WaitTill: ReturnTime (' num2str(ReturnTime) ...		  ') passed before waiting begins (at ' ...		  num2str(getSecs-StartTime) ').']);	returnendwhile(getSecs < StartTime+ReturnTime)	if CharAvail		key = GetChar;	endend